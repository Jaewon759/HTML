<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body.dark-mode {
      background-color: #121212;
      color: white;
    }

    body.dark-mode .table {
      color: white;
    }

    body.dark-mode .table thead {
      background-color: #1f1f1f;
    }

    body.dark-mode .form-control,
    body.dark-mode .form-select {
      background-color: #1f1f1f;
      color: white;
      border: 1px solid #444;
    }

    body.dark-mode .form-control::placeholder {
      color: #ccc;
    }

    body.dark-mode .btn-primary {
      background-color: #3a3a3a;
      border-color: #444;
    }

    body.dark-mode .pagination .page-link {
      background-color: #1f1f1f;
      color: white;
      border-color: #444;
    }

    body.dark-mode .pagination .page-link:hover {
      background-color: #333;
    }

    /* 회원가입 폼 숨김 처리 */
    #signupForm {
      display: none;
      margin-top: 30px;
      max-width: 400px;
      border: 1px solid #ccc;
      padding: 20px;
      border-radius: 8px;
      background-color: white;
    }

    body.dark-mode #signupForm {
      background-color: #1f1f1f;
      border-color: #444;
    }
  </style>
</head>
<body>
  <div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3>신규 등록 상품</h3>
      <div>
        <button id="showSignupBtn" class="btn btn-success me-2">회원 가입</button>
        <button id="toggleDarkMode" class="btn btn-secondary">다크모드 전환</button>
      </div>
    </div>
    <p id="currentTime" class="text-end text-secondary"></p>

    <!-- 회원가입 폼 -->
    <form id="signupForm" novalidate>
      <h5 class="mb-3">회원가입 폼</h5>

      <div class="mb-3">
        <label for="username" class="form-label">아이디</label>
        <input type="text" class="form-control" id="username" name="username" required placeholder="아이디를 입력하세요" />
        <div class="invalid-feedback">아이디를 입력해주세요.</div>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">비밀번호</label>
        <input type="password" class="form-control" id="password" name="password" required placeholder="비밀번호를 입력하세요" />
        <div class="invalid-feedback">비밀번호를 입력해주세요.</div>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">이메일</label>
        <input type="email" class="form-control" id="email" name="email" required placeholder="이메일을 입력하세요" />
        <div class="invalid-feedback">유효한 이메일을 입력해주세요.</div>
      </div>

      <button type="submit" class="btn btn-primary">가입하기</button>
    </form>

    <!-- 필터 폼 -->
    <form class="row row-cols-lg-auto g-3 align-items-center mt-4">
      <!-- 카테고리 -->
      <div class="col-12">
        <select class="form-select" name="category_data_table">
          <option selected>카테고리</option>
          <option value="상의">상의</option>
          <option value="하의">하의</option>
          <option value="신발">신발</option>
          <option value="패션잡화">패션잡화</option>
        </select>
      </div>

      <!-- 성별 -->
      <div class="col-12">
        <select class="form-select" name="gender_selector">
          <option selected>성별</option>
          <option value="남성">남성</option>
          <option value="여성">여성</option>
          <option value="기타">기타</option>
        </select>
      </div>

      <!-- 제품명 -->
      <div class="col-3">
        <input type="text" class="form-control" placeholder="제품명을 입력해주세요" />
      </div>

      <!-- 조회 버튼 -->
      <div class="col-auto">
        <button type="button" class="btn btn-primary">조회</button>
      </div>
    </form>

    <!-- 테이블 -->
    <div class="container mt-4">
      <table class="table table-sm">
        <thead class="table-light">
          <tr>
            <th>카테고리</th>
            <th>브랜드</th>
            <th>상품명</th>
            <th>가격</th>
          </tr>
        </thead>
        <tbody id="product_data_Table"></tbody>
      </table>
    </div>

    <!-- 페이지네이션 -->
    <nav>
      <ul class="pagination justify-content-center">
        <li class="page-item"><a class="page-link" href="#">Previous</a></li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
    </nav>
  </div>

  <!-- 상품 데이터 출력 -->
  <script>
    const product_data = [
      { category: "상의", brand: "Supreme", product: "슈프림 박스로고 후드티", price: "390,000" },
      { category: "하의", brand: "DIESEL", product: "디젤 트랙 팬츠", price: "188,000" },
      { category: "신발", brand: "Nike", product: "에어포스 1", price: "137,000" },
      { category: "패션잡화", brand: "Music&Goods", product: "빵빵이 키링", price: "29,000" },
    ];

    const tableBody = document.getElementById("product_data_Table");

    product_data.forEach((item) => {
      const row = tableBody.insertRow();
      row.insertCell(0).innerText = item.category;
      row.insertCell(1).innerText = item.brand;
      row.insertCell(2).innerText = item.product;
      row.insertCell(3).innerText = item.price;
    });
  </script>

  <!-- 현재 시간 표시 -->
  <script>
    function updateTime() {
      const now = new Date();
      const formatted = now.toLocaleString('ko-KR', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });
      document.getElementById('currentTime').textContent = `현재 시각: ${formatted}`;
    }

    updateTime();
    setInterval(updateTime, 1000);
  </script>

  <!-- 다크모드 토글 -->
  <script>
    const toggleBtn = document.getElementById('toggleDarkMode');
    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      toggleBtn.textContent = document.body.classList.contains('dark-mode') ? '라이트모드 전환' : '다크모드 전환';
    });
  </script>

  <!-- 회원가입 폼 토글 및 제출 처리 -->
  <script>
    const showSignupBtn = document.getElementById('showSignupBtn');
    const signupForm = document.getElementById('signupForm');

    showSignupBtn.addEventListener('click', () => {
      if (signupForm.style.display === 'none' || signupForm.style.display === '') {
        signupForm.style.display = 'block';
        showSignupBtn.textContent = '가입 폼 닫기';
      } else {
        signupForm.style.display = 'none';
        showSignupBtn.textContent = '회원 가입';
      }
    });

    // 부트스트랩 유효성 검사 활용
    signupForm.addEventListener('submit', (e) => {
      e.preventDefault();

      // 부트스트랩 커스텀 유효성 검사
      if (!signupForm.checkValidity()) {
        signupForm.classList.add('was-validated');
        return;
      }

      // 가입 처리 예시 (alert)
      alert(`회원가입 완료!\n아이디: ${signupForm.username.value}\n이메일: ${signupForm.email.value}`);

      // 폼 초기화, 숨기기 및 버튼 텍스트 변경
      signupForm.reset();
      signupForm.classList.remove('was-validated');
      signupForm.style.display = 'none';
      showSignupBtn.textContent = '회원 가입';
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
